{"version":3,"sources":["../../src/components/desktop_nav.js"],"names":[],"mappings":"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","file":"desktop_nav.js","sourcesContent":["//Libraries\nconst React    = require(\"react\")\n    , ReactDOM = require('react-dom')\n    , _        = require(\"lodash\");\n\n\nlet mixins = require(\"morse-react-mixins\");\nconst [checker, cssMixins, textMixins, widthsMixins]  = [mixins.checker, mixins.css_mixins, mixins.text_mixins, mixins.widths_mixins];\n\n//Flux\nconst NavItemsActions = require(\"../actions/navitems_actions\")\n    , NavItemsStore   = require(\"../stores/navitems_store\");\n\n\n//Compenents\nconst Navitem = require(\"./nav_item\")\n     , TouchNav = require(\"touch-nav\");\n\n\nclass DesktopNav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      device:\"mobile\"\n    , roots:[]\n    , secondary:[]\n    , tertiary:[]\n    , quaternary:[]\n    };\n  }\n\n  // Lifecycle\n  componentWillMount(){\n    this.setState({roots:NavItemsStore._getRoots()})\n  }\n\n  componentDidMount(){\n    NavItemsStore.addChangeListener(\"fetched\", this._getNavItems.bind(this));\n  }\n\n  // Morse defined\n  _renderLinks(items, cb){\n    if(checker.checkArray(items)){\n      return _.map(items, (ri)=>{\n        return (<Navitem key={ri.id} ref={ri.id} item={ri} mouseEnter={cb} device={this.props.device} />);\n      })\n    }\n\n    return \"\"\n  }\n\n  _renderSecondary(){\n    if(checker.checkArray(this.state.secondary)){\n      let root = this.state.activeRoot\n      if(NavItemsStore._getLevels() === 1){\n        return(\n          <div className=\"nav-list level-1\">\n            {this._renderTitle(root, \"home-link\")}\n            <TouchNav\n              ref      = \"touch-nav\"\n              navitems = {NavItemsStore.prepForTouchNav(this.state.secondary)}\n              ul_css   = \"secondary-nav-touch-list\"\n              main_css = \"touch-sub-nav\"\n            />\n          </div>\n        );\n      }\n\n      return (\n        <div className=\"levels level-2\">\n          {this._renderTitle(root, \"clearfix home-link\")}\n\n          <ul className=\"nav-list secondary-nav-list\">\n            {this._renderLinks(this.state.secondary, this._setTertiary.bind(this))}\n          </ul>\n        </div>);\n    }\n\n    return \"\";\n  }\n\n  _renderTertiary(){\n    if(checker.checkArray(this.state.tertiary)){\n      return (\n        <div className=\"levels level-3\">\n          {this._renderTitle(this.state.activeSecondary)}\n          <ul className=\"nav-list tertiary-nav-list\">\n            {this._renderLinks(this.state.tertiary, this._setQuaternary.bind(this))}\n          </ul>\n        </div>);\n    }\n\n    return \"\";\n  }\n\n  _renderQuaternary(){\n    if(checker.checkArray(this.state.quaternary)){\n      return (\n        <div className=\"levels level-4\">\n          {this._renderTitle(this.state.activeTertiary)}\n          <ul className=\"nav-list quaternary-nav-list\">\n            {this._renderLinks(this.state.quaternary, null)}\n          </ul>\n        </div>\n      );\n    }\n\n    return \"\";\n  }\n\n  _renderTitle(root, css=\"title-link\"){\n    if(root) return (<div className={css}><a href={root.path}>In {root.title}</a></div>);\n\n    return \"\"\n  }\n\n\n  _getNavItems(){\n    this.setState({\n      roots:NavItemsStore._getRoots()\n    , secondary:[]\n    , tertiary:[]\n    , quaternary:[]\n    });\n  }\n\n\n  _setSecondary(id){\n    this.setState({\n      activeRoot:NavItemsStore.getItem(id)\n    , secondary:NavItemsStore.getSubs(id)\n    , tertiary:[]\n    , quaternary:[]\n    });\n  }\n\n  _setTertiary(id){\n    this.setState({\n      activeSecondary:NavItemsStore.getItem(id)\n    , tertiary:NavItemsStore.getSubs(id)\n    , quaternary:[]\n    });\n  }\n\n  _setQuaternary(id){\n    this.setState({\n      activeTertiary:NavItemsStore.getItem(id)\n    , quaternary:NavItemsStore.getSubs(id)\n    });\n  }\n\n\n  render(){\n    return (\n      <div className=\"desktopNav\">\n        <div className=\"nav-holder\">\n          <ul className=\"nav-list primary-nav-list\">\n            {this._renderLinks(this.state.roots, this._setSecondary.bind(this))}\n          </ul>\n        </div>\n        <div className=\"clearfix sub-holder single\">\n          {this._renderSecondary()}\n          {this._renderTertiary()}\n          {this._renderQuaternary()}\n        </div>\n      </div>)\n  }\n\n}\n\nObject.assign(DesktopNav.prototype, cssMixins);\nObject.assign(DesktopNav.prototype, textMixins);\nObject.assign(DesktopNav.prototype, widthsMixins);\n\nmodule.exports = DesktopNav;"]}