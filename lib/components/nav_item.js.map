{"version":3,"sources":["../../src/components/nav_item.js"],"names":[],"mappings":";;;;;;;;;;;AACA,IAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC;IACxB,CAAC,GAAO,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAGhC,IAAI,MAAM,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;IACpC,SAAS,GAAyC,MAAM,CAAC,UAAU;IAAxD,UAAU,GAAgD,MAAM,CAAC,WAAW;IAAhE,YAAY,GAAsD,MAAM,CAAC,aAAa;IAAxE,OAAO,GAAmE,MAAM,CAAC,OAAO;;;;AAGpI,IAAM,eAAe,GAAG,OAAO,CAAC,6BAA6B,CAAC;IACxD,aAAa,GAAK,OAAO,CAAC,0BAA0B,CAAC,CAAC;;IAEtD,OAAO;YAAP,OAAO;;AACX,WADI,OAAO,CACC,KAAK,EAAE;0BADf,OAAO;;uEAAP,OAAO,aAEH,KAAK;;AACX,UAAK,OAAO,GAAG,KAAK,CAAC;AACrB,QAAI,IAAI,GAAG,MAAK,KAAK,CAAC,IAAI,CAAC;AAC3B,UAAK,IAAI,GAAM,CAAC,EAAC,MAAM,EAAC,IAAI,CAAC,MAAM,EAAC,CAAC,CAAA;AACrC,UAAK,KAAK,GAAK,EAAC,OAAO,EAAC,MAAK,UAAU,CAAC,MAAK,IAAI,CAAC,EAAC,CAAA;;GACpD;;;AAAA;eAPG,OAAO;;wCAUS;;;AAGlB,mBAAa,CAAC,iBAAiB,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KAC9E;;;2CAEsB;AACrB,UAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AACrB,mBAAa,CAAC,oBAAoB,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;KACtE;;;;;;oCAIc;AACb,UAAG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC;AACzB,YAAI,MAAM,GAAG,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;;AAAA,AAExD,YAAG,MAAM,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC;AAC3D,cAAI,CAAC,IAAI,GAAG,CAAC,EAAC,MAAM,EAAC,MAAM,EAAC,CAAC,CAAC;AAC9B,cAAI,CAAC,QAAQ,CAAC,EAAC,OAAO,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,CAAA;SACpD;OACF;KACF;;;8BAEQ;AACP,UAAG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC;AACzB,YAAI,CAAC,IAAI,GAAG,CAAC,EAAC,MAAM,EAAC,IAAI,EAAC,CAAC,CAAC;AAC5B,YAAI,CAAC,QAAQ,CAAC,EAAC,OAAO,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC;AACpD,uBAAe,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;OAC9C;KAEF;;;6BAEQ,CAAC,EAAC;AACT,UAAG,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,QAAQ,EAAC;AAChC,SAAC,CAAC,cAAc,EAAE,CAAC;AACnB,YAAI,CAAC,OAAO,EAAE,CAAA;AACd,YAAG,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC;AAClC,cAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SACxC;OACF;KACF;;;oCAEc;AACb,UAAG,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,QAAQ,EAAC;AAChC,YAAI,CAAC,OAAO,EAAE,CAAA;AACd,YAAG,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,EAAC;AACrC,cAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC3C;OACF;KACF;;;kCAEY;AACX,UAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;AAC3B,UAAG,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,EAAC;AACnC,eAAO;;YAAG,IAAI,EAAC,GAAG,EAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,AAAC,EAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,AAAC,EAAC,SAAS,EAAC,UAAU;UAAE,IAAI,CAAC,KAAK;SAAK,CAAC;OAC1I,MAAM,IAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAC;AACxB,eAAO;;YAAG,IAAI,EAAE,IAAI,CAAC,IAAI,AAAC;UAAE,IAAI,CAAC,KAAK;SAAK,CAAC;OAC7C;;AAED,aAAO,EAAE,CAAC;KACX;;;;;;6BAGO;AACN,aAAQ;;UAAI,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,AAAC;QAAE,IAAI,CAAC,WAAW,EAAE;OAAM,CAAE;KACvE;;;SA5EG,OAAO;GAAS,KAAK,CAAC,SAAS;;AAgFrC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AAC5C,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AAC7C,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;;AAE/C,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC","file":"nav_item.js","sourcesContent":["//Libraries\nconst React = require(\"react\")\n    , _     = require(\"lodash\");\n\n\nlet mixins = require(\"morse-react-mixins\");\nconst [cssMixins, textMixins, widthsMixins, checker]  = [mixins.css_mixins, mixins.text_mixins, mixins.widths_mixins, mixins.checker];\n\n//Flux\nconst NavItemsActions = require(\"../actions/navitems_actions\")\n    , NavItemsStore   = require(\"../stores/navitems_store\");\n\nclass NavItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.mounted = false;\n    let item = this.props.item;\n    this.list    = [{active:item.active}]\n    this.state   = {listcss:this.getClasses(this.list)}\n  }\n\n  // Lifecycle\n  componentDidMount() {\n    //Data Changers\n\n    NavItemsStore.addChangeListener(\"active_set\", this._changeActive.bind(this));\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    NavItemsStore.removeChangeListener(\"active_set\", this._changeActive);\n  }\n\n\n  //Non-standard\n  _changeActive(){\n    if(checker.isMounted(this)){\n      let active = NavItemsStore._isActive(this.props.item.id)\n      // console.log(\"test\" , checker.isMounted(this))\n      if(active !== this.list[0].active && checker.isMounted(this)){\n        this.list = [{active:active}];\n        this.setState({listcss:this.getClasses(this.list)})\n      }\n    }\n  }\n\n  _change(){\n    if(checker.isMounted(this)){\n      this.list = [{active:true}];\n      this.setState({listcss:this.getClasses(this.list)});\n      NavItemsActions.setActive(this.props.item.id)\n    }\n\n  }\n\n  _onClick(e){\n    if(this.props.device === \"mobile\"){\n      e.preventDefault();\n      this._change()\n      if(_.isFunction(this.props.onClick)){\n        this.props.onClick(this.props.item.id);\n      }\n    }\n  }\n\n  _onMouseEnter(){\n    if(this.props.device !== \"mobile\"){\n      this._change()\n      if(_.isFunction(this.props.mouseEnter)){\n        this.props.mouseEnter(this.props.item.id);\n      }\n    }\n  }\n\n  _renderLink(){\n    let item = this.props.item;\n    if(checker.checkOject(item, [\"sub\"])){\n      return(<a href=\"#\" onMouseEnter={this._onMouseEnter.bind(this)} onClick={this._onClick.bind(this)} className=\"has-subs\">{item.title}</a>)\n    } else if(this.props.item){\n      return(<a href={item.path}>{item.title}</a>)\n    }\n\n    return \"\";\n  }\n\n  // Render Function\n  render(){\n    return (<li className={this.state.listcss}>{this._renderLink()}</li>);\n  }\n\n}\n\nObject.assign(NavItem.prototype, cssMixins);\nObject.assign(NavItem.prototype, textMixins);\nObject.assign(NavItem.prototype, widthsMixins);\n\nmodule.exports = NavItem;"]}