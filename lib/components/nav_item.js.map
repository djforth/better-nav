{"version":3,"sources":["../../src/components/nav_item.js"],"names":[],"mappings":"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","file":"nav_item.js","sourcesContent":["//Libraries\nconst React = require(\"react\")\n    , _     = require(\"lodash\");\n\n\nlet mixins = require(\"morse-react-mixins\");\nconst [cssMixins, textMixins, widthsMixins, checker]  = [mixins.css_mixins, mixins.text_mixins, mixins.widths_mixins, mixins.checker];\n\n//Flux\nconst NavItemsActions = require(\"../actions/navitems_actions\")\n    , NavItemsStore   = require(\"../stores/navitems_store\");\n\nclass NavItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.mounted = false;\n    let item = this.props.item;\n    this.list    = [{active:item.active}]\n    this.state   = {listcss:this.getClasses(this.list)}\n  }\n\n  // Lifecycle\n  componentDidMount() {\n    //Data Changers\n\n    NavItemsStore.addChangeListener(\"active_set\", this._changeActive.bind(this));\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    NavItemsStore.removeChangeListener(\"active_set\", this._changeActive);\n  }\n\n\n  //Non-standard\n  _changeActive(){\n    if(checker.isMounted(this)){\n      let active = NavItemsStore._isActive(this.props.item.id)\n      // console.log(\"test\" , checker.isMounted(this))\n      if(active !== this.list[0].active && checker.isMounted(this)){\n        this.list = [{active:active}];\n        this.setState({listcss:this.getClasses(this.list)})\n      }\n    }\n  }\n\n  _change(){\n    if(checker.isMounted(this)){\n      this.list = [{active:true}];\n      this.setState({listcss:this.getClasses(this.list)});\n      NavItemsActions.setActive(this.props.item.id)\n    }\n\n  }\n\n  _onClick(e){\n    if(this.props.device === \"mobile\"){\n      e.preventDefault();\n      this._change()\n      if(_.isFunction(this.props.onClick)){\n        this.props.onClick(this.props.item.id);\n      }\n    }\n  }\n\n  _onMouseEnter(){\n    if(this.props.device !== \"mobile\"){\n      this._change()\n      if(_.isFunction(this.props.mouseEnter)){\n        this.props.mouseEnter(this.props.item.id);\n      }\n    }\n  }\n\n  _renderLink(){\n    let item = this.props.item;\n    if(checker.checkOject(item, [\"sub\"])){\n      return(<a href=\"#\" onMouseEnter={this._onMouseEnter.bind(this)} onClick={this._onClick.bind(this)} className=\"has-subs\">{item.title}</a>)\n    } else if(this.props.item){\n      return(<a href={item.path}>{item.title}</a>)\n    }\n\n    return \"\";\n  }\n\n  // Render Function\n  render(){\n    return (<li className={this.state.listcss}>{this._renderLink()}</li>);\n  }\n\n}\n\nObject.assign(NavItem.prototype, cssMixins);\nObject.assign(NavItem.prototype, textMixins);\nObject.assign(NavItem.prototype, widthsMixins);\n\nmodule.exports = NavItem;"]}